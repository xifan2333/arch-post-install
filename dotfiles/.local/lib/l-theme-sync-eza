#!/bin/bash
# Sync eza (ls replacement) theme with current system theme

set -e

EZA_THEME_FILE="$HOME/.config/current/eza.yml"
EZA_CONFIG_DIR="$HOME/.config/eza"
EZA_THEME_LINK="$EZA_CONFIG_DIR/theme.yml"



# Check if theme has eza configuration
if [ -f "$EZA_THEME_FILE" ]; then
    # Create symlink to current theme's eza config
    ln -snf "$EZA_THEME_FILE" "$EZA_THEME_LINK"
    echo "Eza theme synced"
else
    # Remove theme link if theme doesn't have eza config
    if [ -L "$EZA_THEME_LINK" ] || [ -f "$EZA_THEME_LINK" ]; then
        rm -f "$EZA_THEME_LINK"
        echo "Eza theme removed (not defined for this theme)"
    fi
fi
