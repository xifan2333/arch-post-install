#!/bin/bash
# Save area screenshot to temp and copy path to clipboard

set -e
source screenshot-core
source i18n-core

screenshot_check_deps

filename=$(screenshot_filename)
filepath="$TEMP_DIR/$filename"

grim -g "$(slurp)" "$filepath"
echo -n "$filepath" | wl-copy

if command -v notify-send >/dev/null 2>&1; then
    notify-send "$(msg screenshot_notify_title)" "$(msg screenshot_notify_path_copied filepath "$filepath")"
fi
