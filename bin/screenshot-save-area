#!/bin/bash
# Save area screenshot to file and copy image to clipboard

set -e
source screenshot-core
source i18n-core

screenshot_check_deps

filename=$(screenshot_filename)
filepath="$SCREENSHOTS_DIR/$filename"

grim -g "$(slurp)" "$filepath"
wl-copy < "$filepath"

if command -v notify-send >/dev/null 2>&1; then
    notify-send "$(msg screenshot_notify_title)" "$(msg screenshot_notify_saved filename "$filename")"
fi
