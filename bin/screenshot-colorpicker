#!/bin/bash
# Color picker - pick color and copy to clipboard

set -e
source i18n-core

# Check if hyprpicker is installed
if ! command -v hyprpicker >/dev/null 2>&1; then
    if command -v notify-send >/dev/null 2>&1; then
        notify-send "$(msg colorpicker_notify_title)" "$(msg colorpicker_notify_not_installed)"
    fi
    exit 1
fi

# Pick color (returns format: #RRGGBB)
color=$(hyprpicker -a -f hex)

if [ -n "$color" ]; then
    # Color is already copied by hyprpicker -a flag
    if command -v notify-send >/dev/null 2>&1; then
        notify-send "$(msg colorpicker_notify_title)" "$(msg colorpicker_notify_copied color "$color")"
    fi
fi
